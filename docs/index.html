<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>index - marimo-dev</title>
    <link rel="stylesheet" href="https://deufel.github.io/m-dev/styles.css">
<script type="module" src="https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-RC.7/bundles/datastar.js"></script>  </head>
  <body class="--make-stack">
    <header id="header" class="--make-lcr">
      <div class="--make-cluster">
<a href="https://deufel.github.io/m-dev/index.html" class="--make-cluster"><icon-package><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-icon lucide-package"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"/><path d="M12 22V12"/><polyline points="3.29 7 12 12 20.71 7"/><path d="m7.5 4.27 9 5.15"/></svg></icon-package><span>marimo-dev</span></a>      </div>
      <input type="search" placeholder="Search..." data-bind="search">
      <div class="--make-cluster">
<a href="https://pypi.org/project/marimo-dev/"><icon-blocks><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-blocks-icon lucide-blocks"><path d="M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2"/><rect x="14" y="2" width="8" height="8" rx="1"/></svg></icon-blocks></a><a href="https://github.com/deufel/m-dev"><icon-github><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg></icon-github></a>      </div>
    </header>
    <div class="--make-flank">
      <nav id="nav" class="--make-stack">
<a href="https://deufel.github.io/m-dev/index.html" class="active">Readme</a><hr><a href="https://deufel.github.io/m-dev/core.html" class="">core</a><a href="https://deufel.github.io/m-dev/read.html" class="">read</a><a href="https://deufel.github.io/m-dev/pkg.html" class="">pkg</a><a href="https://deufel.github.io/m-dev/docs.html" class="">docs</a><a href="https://deufel.github.io/m-dev/build.html" class="">build</a><a href="https://deufel.github.io/m-dev/publish.html" class="">publish</a><a href="https://deufel.github.io/m-dev/cli.html" class="">cli</a><a href="https://deufel.github.io/m-dev/githubpages.html" class="">githubpages</a><hr><a href="https://deufel.github.io/m-dev/license.html" class="">License</a>      </nav>
<main id="main" class="--make-stack">        <div class="--make-stack">
          <h2>README</h2>
          <p>
# marimo-dev

Build Python packages from Marimo notebooks.

## Why this exists

Marimo notebooks are excellent for development - they manage dependencies automatically, provide instant feedback, and let you import functions between notebooks without configuration. But publishing requires traditional Python packages with proper module structure and `__init__.py` files.

marimo-dev bridges this gap. It extracts decorated functions and classes from your notebooks and writes them to clean Python modules, leaving behind the exploratory code, UI elements, and notebook-specific logic.

## Quick start

```bash
uv init --lib my-project
cd my-project
uv add marimo marimo-dev
mkdir notebooks
```

Create `notebooks/a_core.py`:

```python
import marimo
app = marimo.App()

@app.function
def greet(name:str="World"):
    "Return a greeting"
    return f"Hello, {name}!"
```

Build and publish:

```bash
md build
md publish --test
```

## Project structure

```
my-project/
├── pyproject.toml
├── notebooks/
│   ├── a_core.py      # letter prefix avoids collision with 'core' package
│   ├── b_utils.py     # avoids collision with 'utils' package
│   └── XX_draft.py    # XX_ prefix = ignored during build
├── src/               # generated by md build
│   └── my_project/
│       ├── __init__.py 
│       ├── core.py    # letter prefix stripped
│       └── utils.py
└── docs/              # generated by md build
    └── llms.txt       # API signatures for LLM consumption
```

## Module naming

Prefix notebooks with letters (`a_`, `b_`, `c_`) to avoid name collisions with common packages like `requests`, `utils`, or `core`. The prefix is stripped in the built package.

During development, import from other notebooks using their full names:

```python
from a_core import greet
```

marimo-dev rewrites these to relative imports in the built package:

```python
from .core import greet
```

## What gets exported

Only self-contained functions and classes are exported. A self-contained function must: reference no variables outside its scope (except from the setup cell), and be the only function in its cell. See [reusing functions](https://docs.marimo.io/guides/reusing_functions/) for details. Everything else - test code, UI elements, exploratory cells - stays in your notebooks.

## Hash pipe directives

Control export and documentation behavior with `#|` directives on the line immediately after a decorator:

```python
@app.function
#| nodoc
def helper(): 
    pass  # exported but not in llms.txt

@app.function
#| internal
def _private(): 
    pass  # not added to __all__

@app.function
#| nodoc internal
def _helper(): 
    pass  # neither exported nor documented
```

## Documentation style

Use inline comments for parameter documentation:

```python
@app.function
def add(
    a:int, # first number
    b:int, # second number
)-&gt;int:    # sum of a and b
    "Add two numbers"
    return a + b
```

These comments appear in `llms.txt`, making your API documentation useful for LLM-assisted coding.

## Configuration

Add to `pyproject.toml` to override defaults:

```toml
[tool.marimo-dev]
nbs = "notebooks"           # notebook directory (default: "notebooks")
out = "src"                 # output directory (default: "src")
docs = "docs"               # docs directory (default: "docs")
decorators = ["app.function", "app.class_definition"]  # export markers
skip_prefixes = ["XX_", "test_"]  # ignore these files
```

## Commands

```bash
md build              # build package from notebooks
md publish --test     # publish to Test PyPI
md publish            # publish to PyPI
md tidy               # remove __pycache__ and cache files
md nuke               # remove all build artifacts (dist, docs, src, temp*)
```
If you make a temp folder it will be explicitly removed when running `md nuke`

## Dependencies

Marimo manages package dependencies automatically through its package tab. You do not need to manually maintain `pyproject.toml` dependencies during development.

When you build, ensure your `pyproject.toml` includes all packages your exported functions import.

## Requirements

- Python 3.12+
- marimo
- uv

## Tips

- Update `version` in `pyproject.toml` before publishing
- Use `uv sync --upgrade` to update dependencies
- Use `uv cache clean` if you encounter caching issues
- Rebuild takes ~18ms, so you can run `md build` frequently during development</p>
        </div>
</main>    </div>
  </body>
</html>
