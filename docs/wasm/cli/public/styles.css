    /* remove marimo padding */
    @layer marimo {
      [id^="output-"] {
        padding: 0 !important;
      }
    }
    @layer layout {
        * {
            interpolate-size: allow-keywords;
        }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, sans-serif;
        }

        .page-section {
            margin: 0;
            padding: 0;
            display: grid;
            grid-template: auto 1fr auto / auto 1fr auto;
            gap: 0.5rem;
            padding-inline: 1rem;
            padding-block: 0.25rem;
            height: calc(100svh - 0.5rem);
            overflow: hidden;
        }

        .page-section > main {
            overflow-y: auto;
            max-width: 160ch;
            scrollbar-gutter: stable;
        }

        .page-section > nav,
        .page-section > aside {
            overflow-y: auto;
            scrollbar-gutter: stable;
        }

        pre code {
            height: 0;
            transition: height 0.3s ease;
        }
    }

    @layer picoscale {
        body.picoscale {
            --pico-font-family-sans-serif: Inter, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, Helvetica, Arial, "Helvetica Neue", sans-serif, var(--pico-font-family-emoji);
            --pico-font-size: 87.5%;
            --pico-line-height: 1.25;
            --pico-form-element-spacing-vertical: 0.5rem;
            --pico-form-element-spacing-horizontal: 1.0rem;
            --pico-border-radius: 0.375rem;
        }

        @media (min-width: 576px) {
            body.picoscale {
                --pico-font-size: 87.5%;
            }
        }

        @media (min-width: 768px) {
            body.picoscale {
                --pico-font-size: 87.5%;
            }
        }

        @media (min-width: 1024px) {
            body.picoscale {
                --pico-font-size: 87.5%;
            }
        }

        @media (min-width: 1280px) {
            body.picoscale {
                --pico-font-size: 87.5%;
            }
        }

        @media (min-width: 1536px) {
            body.picoscale {
                --pico-font-size: 87.5%;
            }
        }

        body.picoscale h1,
        body.picoscale h2,
        body.picoscale h3,
        body.picoscale h4,
        body.picoscale h5,
        body.picoscale h6 {
            --pico-font-weight: 600;
        }

        body.picoscale article {
            border: 1px solid var(--pico-muted-border-color);
            border-radius: calc(var(--pico-border-radius) * 2);
        }

        body.picoscale article > footer {
            border-radius: calc(var(--pico-border-radius) * 2);
        }
    }

    @layer utils {
        /* ===== SIZE SCALE ===== */
        :where(html) {
            --make-size-1: 0.25rem;  /* 4px */
            --make-size-2: 0.5rem;   /* 8px */
            --make-size-3: 1rem;     /* 16px */
            --make-size-4: 1.5rem;   /* 24px */
            --make-size-5: 2rem;     /* 32px */
            --make-size-6: 3rem;     /* 48px */
            --make-size-7: 4rem;     /* 64px */
            --make-size-8: 6rem;     /* 96px */
        }

        /* ===== LAYOUT PRIMITIVES ===== */
        /* Reset margins for all layout primitives */
        :is(
            [class*="--make-cluster"],
            [class*="--make-flank"],
            [class*="--make-frame"],
            [class*="--make-grid"],
            [class*="--make-split"],
            [class*="--make-stack"],
            [class*="--make-lcr"],
            [class*="--make-tmb"]
        ) > * {
            margin-block: 0;
            margin-inline: 0;
        }

        /* Default gap for all layout primitives */
        :where(
            [class*="--make-cluster"],
            [class*="--make-flank"],
            [class*="--make-frame"],
            [class*="--make-grid"],
            [class*="--make-stack"],
            [class*="--make-split"],
            [class*="--make-lcr"],
            [class*="--make-tmb"]
        ) {
            gap: var(--make-size-2);
        }

        /* Cluster - flex wrap with alignment */
        [class*="--make-cluster"] {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            align-items: center;
        }

        /* Flank - flexible sidebar layout */
        [class*="--make-flank"] {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
        }

        [class*="--make-flank"]:not([class*="\:end"]) > :first-child,
        [class*="--make-flank"][class*="\:start"] > :first-child {
            flex-basis: var(--flank-size, auto);
            flex-grow: 1;
        }

        [class*="--make-flank"]:not([class*="\:end"]) > :last-child,
        [class*="--make-flank"][class*="\:start"] > :last-child {
            flex-basis: 0;
            flex-grow: 999;
            min-inline-size: var(--content-percentage, 50%);
        }

        [class*="--make-flank"][class*="\:end"] > :last-child {
            flex-basis: var(--flank-size, auto);
            flex-grow: 1;
        }

        [class*="--make-flank"][class*="\:end"] > :first-child {
            flex-basis: 0;
            flex-grow: 999;
            min-inline-size: var(--content-percentage, 50%);
        }

        /* Frame - aspect ratio container for media */
        [class*="--make-frame"] {
            display: flex;
            aspect-ratio: 1 / 1;
            justify-content: center;
            align-items: center;
            overflow: hidden;

            > img,
            > video {
                block-size: 100%;
                inline-size: 100%;
                object-fit: cover;
            }
        }

        [class*="--make-frame"][class*="\:square"] { aspect-ratio: 1 / 1; }
        [class*="--make-frame"][class*="\:landscape"] { aspect-ratio: 16 / 9; }
        [class*="--make-frame"][class*="\:portrait"] { aspect-ratio: 9 / 16; }

        /* Grid - responsive auto-fit grid */
        [class*="--make-grid"] {
            display: grid;
            grid-template-columns: repeat(
                auto-fit,
                minmax(min(var(--min-column-size, 20ch), 100%), 1fr)
            );
        }

        [class*="--make-span-grid"] { grid-column: 1 / -1; }

        /* Split - space-between layout */
        [class*="--make-split"] {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
        }

        [class*="--make-split"],
        [class*="--make-split"][class*="\:row"] {
            flex-direction: row;
            block-size: auto;
            inline-size: 100%;
        }

        [class*="--make-split"]:not([class*="\:column"]) > :first-child {
            flex: 0 1 auto;
        }

        [class*="--make-split"][class*="\:column"] {
            flex-direction: column;
            block-size: auto;
            inline-size: auto;
            align-self: stretch;
        }

        /* Stack - vertical flex layout */
        [class*="--make-stack"] {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: stretch;
        }

        /* LCR - left center right grid */
        [class*="--make-lcr"] {
            display: grid;
            grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
            align-items: center;
        }

        [class*="--make-lcr"] > :nth-child(1) {
            justify-self: start;
        }

        [class*="--make-lcr"] > :nth-child(2) {
            justify-self: center;
        }

        [class*="--make-lcr"] > :nth-child(3) {
            justify-self: end;
        }

        /* TMB - top middle bottom grid */
        [class*="--make-tmb"] {
            display: grid;
            grid-template-rows: minmax(0, 1fr) auto minmax(0, 1fr);
            justify-items: center;
        }

        [class*="--make-tmb"] > :nth-child(1) {
            align-self: start;
        }

        [class*="--make-tmb"] > :nth-child(2) {
            align-self: center;
        }

        [class*="--make-tmb"] > :nth-child(3) {
            align-self: end;
        }

        /* ===== CONTAINER ===== */
        .make-container {
            width: clamp(20rem, 90%, 87.5rem);
            left: 50%;
            transform: translateX(-50%) translateZ(0);
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: width, transform;
        }
    }

    